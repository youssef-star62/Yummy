function hideLoadingPage(){$("#loading-page").hide(600,(e=>{$("body,html").css("overflow-y","auto")}))}function showLoadingPage(){"none"!=$("#search").css("display")?$("#loading-page").css({height:`calc( 100vh - ${$("#search").outerHeight()}px)`,top:`${$("#search").outerHeight()+50}px`}):$("#loading-page").css({height:"100%",top:"0"}),$("#loading-page").show(300,(e=>{$("body,html").css("overflow-y","hidden")}))}async function getAPI(e){let t=await fetch(e);return await t.json()}function showListBoxes(e,t,s,a){let i="";e.forEach((e=>{i+=a(e)})),t.innerHTML=i,$(`#${s}`).show(100,hideLoadingPage)}function createMealBox({strMealThumb:e,strMeal:t,idMeal:s}){return`  \n  <div onclick="showMealDetails('${s}')">\n    <div class="box rounded-3">\n        <div class="box-img">\n            <img src="${e}" alt="" class="w-100">\n        </div>\n        <div class="box-brief d-flex align-items-center justify-content-center bg-light bg-opacity-75 px-2">\n            <h2 class="text-capitalize text-dark text-center" title="${t}">${t}</h2>\n        </div>\n    </div>\n  </div>`}async function showMealDetails(e){$("#search").css("display","none"),showLoadingPage();const t=(await getAPI(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e}`)).meals[0];$("#meals-boxes").css("display","none");let{strMealThumb:s,strMeal:a,strInstructions:i,strArea:n,strCategory:o,strTags:l,strSource:r,strYoutube:c}=t;if($("#meal-details .meal-img img").attr("src",s),$("#meal-details .meal-name").text(a),$("#meal-details #mealInstruction").text(i),$("#meal-details #mealArea").text(n),$("#meal-details #mealCategory").text(o),$("#meal-details #mealRecipes").text(n),""!=t.strIngredient1){let e="",s=1;for(;t[`strIngredient${s}`];)e+=`\n          <span class="bg-white bg-opacity-75 py-2 px-3 rounded-3">\n            ${t[`strMeasure${s}`]} ${t[`strIngredient${s}`]}\n          </span>\n      `,s++;$("#meal-details #mealRecipes").html(e)}else $("#meal-details #mealRecipes").parent().css("display","none");l?(l=l.split(",").map((e=>`\n      <span class="bg-white bg-opacity-75 py-2 px-3 rounded-3">\n          ${e.trim()}\n      </span>\n    `)),$("#meal-details #mealTags").html(l)):$("#meal-details #mealTags").parent().css("display","none"),$("#meal-details #btnSource").attr("href",r),$("#meal-details #btnYoutube").attr("href",r),$("#meal-details").css("display","block"),hideLoadingPage()}async function searchCategories(){showLoadingPage();showListBoxes((await getAPI("https://www.themealdb.com/api/json/v1/1/categories.php")).categories,catBoxesBody,"categories",createCategoryBox)}function createCategoryBox({strCategory:e,strCategoryDescription:t,strCategoryThumb:s}){let a=t.split(" ");return a.length=20,a=a.join(" "),`\n  <div>\n    <div class="box rounded-3" onclick="showCategoryMeals('${e}')">\n      <div class="box-img">\n          <img src="${s}" alt="" class="w-100">\n      </div>\n      <div\n          class="box-brief d-flex flex-column text-center align-items-center justify-content-center bg-light bg-opacity-75 px-2">\n          <h2 class="text-capitalize text-dark" title="${e}">${e}</h2>\n          <p class="text-muted" title="${t}" >${a}</p>\n      </div>\n    </div>\n  </div>\n  `}async function showCategoryMeals(e){showLoadingPage(),$("#categories").css("display","none");showListBoxes((await getAPI(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${e}`)).meals,mealsBoxesBody,"meals-boxes",createMealBox)}async function searchAreaMeals(){showLoadingPage();showListBoxes((await getAPI("https://www.themealdb.com/api/json/v1/1/list.php?a=list")).meals,areaBoxesBody,"area",createAreaBox)}function createAreaBox({strArea:e}){return`\n      <div>\n        <div class="city text-center border border-1 border-white p-4"\n          onclick="showAreaMeals('${e}')" >\n            <i class="fa fa-city text-gray fa-4x"></i>\n            <h2 class="text-white mb-0 mt-3" title="${e}" >${e}</h2>\n        </div>\n      </div>  \n  `}async function showAreaMeals(e){showLoadingPage(),$("#area").css("display","none");showListBoxes((await getAPI(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${e}`)).meals,mealsBoxesBody,"meals-boxes",createMealBox)}async function getIngredients(){showLoadingPage();let e=(await getAPI("https://www.themealdb.com/api/json/v1/1/list.php?i=list")).meals;e.length=20,showListBoxes(e,ingredBoxesBody,"ingredients",createIngredientBox)}function createIngredientBox({strDescription:e,strIngredient:t}){return`\n    <div>\n      <div class="ingredient text-center border border-1 border-white py-4 px-2"\n        onclick="showIngredientsMeals('${t}')" >\n          <i class="fas fa-cloud-meatball fa-4x text-gray"></i>\n          <h2 class="text-white fw-bold m-3" title="${t}" >${t}</h2>\n          <p class="ingredient-desc text-muted lh-sm mb-0" title="${e}" >${e}</p>\n      </div>\n    </div>\n  `}async function showIngredientsMeals(e){showLoadingPage(),$("#ingredients").css("display","none");showListBoxes((await getAPI(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${e}`)).meals,mealsBoxesBody,"meals-boxes",createMealBox)}$(document).ready((e=>{const t=$("#side-menu .menu").outerWidth();let s=1;function a(){$("#btnToggle").children().eq("0").show(400),$("#btnToggle").children().eq("1").hide(400),$("#side-menu").animate({left:-t},400),$(".list-links").children().removeClass("animate__animated animate__fadeInUpBig"),s=!s}function i(){let e=!0;$("#contactForm input").each((function(){$(this).hasClass("is-valid")||(e=!1)})),e?$("#btnSubmit").removeAttr("disabled"):$("#btnSubmit").attr("disabled","")}function n(e,t){e?(t.classList.add("is-valid"),t.classList.remove("is-invalid")):(t.classList.add("is-invalid"),t.classList.remove("is-valid"))}$("#btnToggle").click((function(e){s?($("#btnToggle").children().eq("0").hide(400),$("#btnToggle").children().eq("1").show(400),$("#side-menu").animate({left:0},400),$(".list-links").children().addClass("animate__animated animate__fadeInUpBig"),s=!s):a()})),$("#nav_Menu").children().on("click",(function(){const e=$(this).text();Array.from($("#nav_Menu").children()).forEach((e=>{$(`#${e.textContent}`).css("display","none")})),$("#meals-boxes").css("display","none"),$("#meal-details").css("display","none"),a(),$(`#${e}`).css("display","block"),"categories"==e?searchCategories():"area"==e?searchAreaMeals():"ingredients"==e&&getIngredients()})),$("#searchByName , #searchByFLetter").on("input",(async function(){showLoadingPage();let e=$(this).val(),t="searchByName"==$(this).attr("id")?"s":"f";""!=e?e=`=${e}`:t="s";const s=(await getAPI(`https://www.themealdb.com/api/json/v1/1/search.php?${t}${e}`)).meals;s?showListBoxes(s,mealsBoxesBody,"meals-boxes",createMealBox):showLoadingPage()})),$("#contactForm").on("submit",(e=>e.preventDefault())),$("#userName").on("input",(function(){n(!/[^a-zA-Z\s_]/.test(this.value),this),i()})),$("#userEmail").on("input",(function(){n(/^([a-z0-9._%-]+@[a-z0-9.-]+\.[a-z]{2,6})*$/.test(this.value),this),i()})),$("#userPhone").on("input",(function(){n(/^\d{11}$/.test(this.value),this),i()})),$("#userAge").on("input",(function(){n(this.value>=15&&this.value<=99,this),i()})),$("#userPassword").on("input",(function(){n(/^(?=.*?[a-z])(?=.*?[0-9]).{8,}$/.test(this.value),this),i()})),$("#userConfirmPassword").on("input",(function(){n(this.value==userPassword.value,this),i()})),async function(){showListBoxes((await getAPI("https://www.themealdb.com/api/json/v1/1/search.php?s")).meals,mealsBoxesBody,"meals-boxes",createMealBox)}()}));